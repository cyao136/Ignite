<% provide(:title, @project.name + " Gallery") %>
<div class="container">
  <%= render :partial => 'projects/header' %>

  <%= button_to 'Upload', {:controller => "projects", :action => "media_upload"}, params:{ :id => project_id } , :method=>:get  %>
  <% @pictures.each do |pic| %>
  	<a class="thumbnail" href="#" data-image-id="" data-toggle="modal" data-title="" data-caption="" data-image=<%= pic.asset.url %> data-target="#gallery-modal">
  		<%= image_tag pic.asset.url(:thumb) %>
  	</a>
  <% end %>
  <% @videos.each do |vid| %>
  	<a class="thumbnail" href="#" data-image-id="" data-toggle="modal" data-title="" data-caption="" data-video= <%= vid.asset.url %> data-target="#gallery-modal">
  		<%= image_tag vid.asset.url(:thumb) %>
  	</a>
  <% end %>
</div>


<div class="modal fade" id="gallery-modal" tabindex="-1" role="dialog" aria-labelledby="galleryModal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">Ã—</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="gallery-modal-title"></h4>
            </div>
            <div class="modal-body">
                <img id="gallery-modal-image" class="img-responsive" src="" hidden=true>
                <video id="gallery-modal-video" src="" type="video/mp4" hidden=true controls autoplay>
            </div>
            <div class="modal-footer">

                <div class="col-md-2">
                    <button type="button" class="btn btn-primary" id="show-previous-image">Previous</button>
                </div>

                <div class="col-md-8 text-justify" id="gallery-modal-caption">
                    This text will be overwritten by jQuery
                </div>

                <div class="col-md-2">
                    <button type="button" id="show-next-image" class="btn btn-default">Next</button>
                </div>
            </div>
        </div>
    </div>
</div>